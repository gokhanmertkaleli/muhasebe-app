2025-10-25 00:23:45 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 26 class path changes (0 additions, 25 deletions, 1 modification)
2025-10-25 00:23:45 [Thread-5] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-10-25 00:23:45 [Thread-5] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-10-25 00:23:45 [Thread-5] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-10-25 00:23:45 [restartedMain] INFO  com.muhasebe.MuhasebeApplication - Starting MuhasebeApplication using Java 17.0.16 with PID 12988 (C:\projects\muhasebe-app\target\classes started by pc in C:\projects\muhasebe-app)
2025-10-25 00:23:45 [restartedMain] DEBUG com.muhasebe.MuhasebeApplication - Running with Spring Boot v3.2.0, Spring v6.1.1
2025-10-25 00:23:45 [restartedMain] INFO  com.muhasebe.MuhasebeApplication - The following 1 profile is active: "dev"
2025-10-25 00:23:45 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-10-25 00:23:45 [restartedMain] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: java.lang.NoClassDefFoundError: com/muhasebe/entity/BaseEntity
2025-10-25 00:23:45 [restartedMain] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-10-25 00:23:45 [restartedMain] ERROR o.s.boot.SpringApplication - Application run failed
java.lang.NoClassDefFoundError: com/muhasebe/entity/BaseEntity
	at java.base/java.lang.ClassLoader.defineClass1(Native Method) ~[na:na]
	at java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1017) ~[na:na]
	at java.base/java.security.SecureClassLoader.defineClass(SecureClassLoader.java:150) ~[na:na]
	at java.base/java.net.URLClassLoader.defineClass(URLClassLoader.java:524) ~[na:na]
	at java.base/java.net.URLClassLoader$1.run(URLClassLoader.java:427) ~[na:na]
	at java.base/java.net.URLClassLoader$1.run(URLClassLoader.java:421) ~[na:na]
	at java.base/java.security.AccessController.doPrivileged(AccessController.java:712) ~[na:na]
	at java.base/java.net.URLClassLoader.findClass(URLClassLoader.java:420) ~[na:na]
	at org.springframework.boot.devtools.restart.classloader.RestartClassLoader.findClass(RestartClassLoader.java:136) ~[spring-boot-devtools-3.2.0.jar:3.2.0]
	at org.springframework.boot.devtools.restart.classloader.RestartClassLoader.loadClass(RestartClassLoader.java:118) ~[spring-boot-devtools-3.2.0.jar:3.2.0]
	at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:525) ~[na:na]
	at java.base/java.lang.Class.forName0(Native Method) ~[na:na]
	at java.base/java.lang.Class.forName(Class.java:467) ~[na:na]
	at java.base/sun.reflect.generics.factory.CoreReflectionFactory.makeNamedType(CoreReflectionFactory.java:114) ~[na:na]
	at java.base/sun.reflect.generics.visitor.Reifier.visitClassTypeSignature(Reifier.java:125) ~[na:na]
	at java.base/sun.reflect.generics.tree.ClassTypeSignature.accept(ClassTypeSignature.java:49) ~[na:na]
	at java.base/sun.reflect.generics.visitor.Reifier.reifyTypeArguments(Reifier.java:68) ~[na:na]
	at java.base/sun.reflect.generics.visitor.Reifier.visitClassTypeSignature(Reifier.java:138) ~[na:na]
	at java.base/sun.reflect.generics.tree.ClassTypeSignature.accept(ClassTypeSignature.java:49) ~[na:na]
	at java.base/sun.reflect.generics.repository.ClassRepository.computeSuperInterfaces(ClassRepository.java:117) ~[na:na]
	at java.base/sun.reflect.generics.repository.ClassRepository.getSuperInterfaces(ClassRepository.java:95) ~[na:na]
	at java.base/java.lang.Class.getGenericInterfaces(Class.java:1211) ~[na:na]
	at org.springframework.core.ResolvableType.getInterfaces(ResolvableType.java:517) ~[spring-core-6.1.1.jar:6.1.1]
	at org.springframework.core.ResolvableType.as(ResolvableType.java:465) ~[spring-core-6.1.1.jar:6.1.1]
	at org.springframework.data.util.TypeDiscoverer.getSuperTypeInformation(TypeDiscoverer.java:254) ~[spring-data-commons-3.2.0.jar:3.2.0]
	at org.springframework.data.util.ClassTypeInformation.getSuperTypeInformation(ClassTypeInformation.java:36) ~[spring-data-commons-3.2.0.jar:3.2.0]
	at org.springframework.data.util.TypeInformation.getRequiredSuperTypeInformation(TypeInformation.java:327) ~[spring-data-commons-3.2.0.jar:3.2.0]
	at org.springframework.data.repository.core.support.DefaultRepositoryMetadata.<init>(DefaultRepositoryMetadata.java:55) ~[spring-data-commons-3.2.0.jar:3.2.0]
	at org.springframework.data.repository.core.support.AbstractRepositoryMetadata.getMetadata(AbstractRepositoryMetadata.java:77) ~[spring-data-commons-3.2.0.jar:3.2.0]
	at org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport.getRepositoryConfigurations(RepositoryConfigurationExtensionSupport.java:91) ~[spring-data-commons-3.2.0.jar:3.2.0]
	at org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn(RepositoryConfigurationDelegate.java:164) ~[spring-data-commons-3.2.0.jar:3.2.0]
	at org.springframework.boot.autoconfigure.data.AbstractRepositoryConfigurationSourceSupport.registerBeanDefinitions(AbstractRepositoryConfigurationSourceSupport.java:62) ~[spring-boot-autoconfigure-3.2.0.jar:3.2.0]
	at org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.lambda$loadBeanDefinitionsFromRegistrars$1(ConfigurationClassBeanDefinitionReader.java:376) ~[spring-context-6.1.1.jar:6.1.1]
	at java.base/java.util.LinkedHashMap.forEach(LinkedHashMap.java:721) ~[na:na]
	at org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitionsFromRegistrars(ConfigurationClassBeanDefinitionReader.java:375) ~[spring-context-6.1.1.jar:6.1.1]
	at org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitionsForConfigurationClass(ConfigurationClassBeanDefinitionReader.java:148) ~[spring-context-6.1.1.jar:6.1.1]
	at org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitions(ConfigurationClassBeanDefinitionReader.java:120) ~[spring-context-6.1.1.jar:6.1.1]
	at org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:428) ~[spring-context-6.1.1.jar:6.1.1]
	at org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:289) ~[spring-context-6.1.1.jar:6.1.1]
	at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:349) ~[spring-context-6.1.1.jar:6.1.1]
	at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:118) ~[spring-context-6.1.1.jar:6.1.1]
	at org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:775) ~[spring-context-6.1.1.jar:6.1.1]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:597) ~[spring-context-6.1.1.jar:6.1.1]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.2.0.jar:3.2.0]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:753) ~[spring-boot-3.2.0.jar:3.2.0]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:455) ~[spring-boot-3.2.0.jar:3.2.0]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:323) ~[spring-boot-3.2.0.jar:3.2.0]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1342) ~[spring-boot-3.2.0.jar:3.2.0]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1331) ~[spring-boot-3.2.0.jar:3.2.0]
	at com.muhasebe.MuhasebeApplication.main(MuhasebeApplication.java:10) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50) ~[spring-boot-devtools-3.2.0.jar:3.2.0]
Caused by: java.lang.ClassNotFoundException: com.muhasebe.entity.BaseEntity
	at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641) ~[na:na]
	at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) ~[na:na]
	at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:525) ~[na:na]
	at java.base/java.lang.Class.forName0(Native Method) ~[na:na]
	at java.base/java.lang.Class.forName(Class.java:467) ~[na:na]
	at org.springframework.boot.devtools.restart.classloader.RestartClassLoader.loadClass(RestartClassLoader.java:121) ~[spring-boot-devtools-3.2.0.jar:3.2.0]
	at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:525) ~[na:na]
	... 55 common frames omitted
2025-10-25 00:23:46 [restartedMain] INFO  com.muhasebe.MuhasebeApplication - Starting MuhasebeApplication using Java 17.0.16 with PID 35264 (C:\projects\muhasebe-app\target\classes started by pc in C:\projects\muhasebe-app)
2025-10-25 00:23:46 [restartedMain] DEBUG com.muhasebe.MuhasebeApplication - Running with Spring Boot v3.2.0, Spring v6.1.1
2025-10-25 00:23:46 [restartedMain] INFO  com.muhasebe.MuhasebeApplication - The following 1 profile is active: "dev"
2025-10-25 00:23:46 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-10-25 00:23:46 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-10-25 00:23:46 [restartedMain] INFO  com.muhasebe.MuhasebeApplication - Starting MuhasebeApplication using Java 17.0.16 with PID 12988 (C:\projects\muhasebe-app\target\classes started by pc in C:\projects\muhasebe-app)
2025-10-25 00:23:46 [restartedMain] DEBUG com.muhasebe.MuhasebeApplication - Running with Spring Boot v3.2.0, Spring v6.1.1
2025-10-25 00:23:46 [restartedMain] INFO  com.muhasebe.MuhasebeApplication - The following 1 profile is active: "dev"
2025-10-25 00:23:46 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-10-25 00:23:46 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 9 ms. Found 4 JPA repository interfaces.
2025-10-25 00:23:47 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-10-25 00:23:47 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-10-25 00:23:47 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.16]
2025-10-25 00:23:47 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-10-25 00:23:47 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 224 ms
2025-10-25 00:23:47 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-10-25 00:23:47 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-10-25 00:23:47 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-10-25 00:23:47 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Starting...
2025-10-25 00:23:47 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-10-25 00:23:47 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-2 - Added connection org.postgresql.jdbc.PgConnection@44833489
2025-10-25 00:23:47 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Start completed.
2025-10-25 00:23:47 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-10-25 00:23:47 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 33 ms. Found 4 JPA repository interfaces.
2025-10-25 00:23:47 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-10-25 00:23:47 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-10-25 00:23:47 [restartedMain] DEBUG c.m.security.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-10-25 00:23:47 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 25 mappings in 'requestMappingHandlerMapping'
2025-10-25 00:23:47 [restartedMain] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-10-25 00:23:47 [restartedMain] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@5c26027b, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@474e0f6f, org.springframework.security.web.context.SecurityContextHolderFilter@424e7f67, org.springframework.security.web.header.HeaderWriterFilter@7b72ecdc, org.springframework.web.filter.CorsFilter@138011cf, org.springframework.web.filter.CorsFilter@4ffdded8, org.springframework.security.web.authentication.logout.LogoutFilter@7d1ccdf5, com.muhasebe.security.JwtAuthenticationFilter@7c5d2b49, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@f58e60d, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@63a0ef36, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@23243886, org.springframework.security.web.session.SessionManagementFilter@85e256, org.springframework.security.web.access.ExceptionTranslationFilter@dc80269, org.springframework.security.web.access.intercept.AuthorizationFilter@5181a41b]
2025-10-25 00:23:47 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-10-25 00:23:47 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-10-25 00:23:47 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.16]
2025-10-25 00:23:47 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-10-25 00:23:47 [restartedMain] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-10-25 00:23:47 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1103 ms
2025-10-25 00:23:47 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-10-25 00:23:47 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path ''
2025-10-25 00:23:47 [restartedMain] INFO  com.muhasebe.MuhasebeApplication - Started MuhasebeApplication in 0.976 seconds (process running for 4683.35)
2025-10-25 00:23:47 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-10-25 00:23:47 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-10-25 00:23:47 [restartedMain] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.3.1.Final
2025-10-25 00:23:47 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-10-25 00:23:48 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-10-25 00:23:48 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-10-25 00:23:48 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@26f3465e
2025-10-25 00:23:48 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-10-25 00:23:48 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-10-25 00:23:48 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-10-25 00:23:48 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-10-25 00:23:49 [restartedMain] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-10-25 00:23:49 [restartedMain] DEBUG c.m.security.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-10-25 00:23:49 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 25 mappings in 'requestMappingHandlerMapping'
2025-10-25 00:23:49 [restartedMain] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-10-25 00:23:49 [restartedMain] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@44a2c183, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@274c85cf, org.springframework.security.web.context.SecurityContextHolderFilter@3faa13ea, org.springframework.security.web.header.HeaderWriterFilter@1f514fe2, org.springframework.web.filter.CorsFilter@29106a42, org.springframework.web.filter.CorsFilter@32c0a5f8, org.springframework.security.web.authentication.logout.LogoutFilter@c7021d3, com.muhasebe.security.JwtAuthenticationFilter@19dd7281, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5dc59600, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1c6bff8d, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@60bcd4fa, org.springframework.security.web.session.SessionManagementFilter@35bd1d47, org.springframework.security.web.access.ExceptionTranslationFilter@169dcd1, org.springframework.security.web.access.intercept.AuthorizationFilter@4f459909]
2025-10-25 00:23:49 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-10-25 00:23:49 [restartedMain] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-10-25 00:23:50 [restartedMain] WARN  o.s.b.d.a.OptionalLiveReloadServer - Unable to start LiveReload server
2025-10-25 00:23:50 [restartedMain] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'
2025-10-25 00:23:50 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-10-25 00:23:50 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-10-25 00:23:50 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-10-25 17:02:03 [restartedMain] INFO  com.muhasebe.MuhasebeApplication - Starting MuhasebeApplication using Java 17.0.16 with PID 17548 (C:\projects\muhasebe-app\target\classes started by pc in C:\projects\muhasebe-app)
2025-10-25 17:02:03 [restartedMain] DEBUG com.muhasebe.MuhasebeApplication - Running with Spring Boot v3.2.0, Spring v6.1.1
2025-10-25 17:02:03 [restartedMain] INFO  com.muhasebe.MuhasebeApplication - The following 1 profile is active: "dev"
2025-10-25 17:02:03 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-10-25 17:02:03 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-10-25 17:02:04 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-10-25 17:02:04 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 36 ms. Found 4 JPA repository interfaces.
2025-10-25 17:02:04 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-10-25 17:02:04 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-10-25 17:02:04 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.16]
2025-10-25 17:02:04 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-10-25 17:02:04 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1175 ms
2025-10-25 17:02:05 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-10-25 17:02:05 [restartedMain] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.3.1.Final
2025-10-25 17:02:05 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-10-25 17:02:05 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-10-25 17:02:05 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-10-25 17:02:05 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@559c0aad
2025-10-25 17:02:05 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-10-25 17:02:05 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-10-25 17:02:06 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-10-25 17:02:06 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-10-25 17:02:06 [restartedMain] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-10-25 17:02:06 [restartedMain] DEBUG c.m.security.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-10-25 17:02:07 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 25 mappings in 'requestMappingHandlerMapping'
2025-10-25 17:02:07 [restartedMain] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-10-25 17:02:07 [restartedMain] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@341a79f9, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@242cf2fd, org.springframework.security.web.context.SecurityContextHolderFilter@47c96e67, org.springframework.security.web.header.HeaderWriterFilter@4752393e, org.springframework.web.filter.CorsFilter@115a1130, org.springframework.web.filter.CorsFilter@64cab7e9, org.springframework.security.web.authentication.logout.LogoutFilter@3dbe9ca4, com.muhasebe.security.JwtAuthenticationFilter@67d705f3, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7711c11f, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@67adb26d, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@378df38, org.springframework.security.web.session.SessionManagementFilter@401c925, org.springframework.security.web.access.ExceptionTranslationFilter@76c4f8fd, org.springframework.security.web.access.intercept.AuthorizationFilter@4e7bdbbc]
2025-10-25 17:02:07 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-10-25 17:02:07 [restartedMain] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-10-25 17:02:07 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-10-25 17:02:07 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path ''
2025-10-25 17:02:07 [restartedMain] INFO  com.muhasebe.MuhasebeApplication - Started MuhasebeApplication in 4.264 seconds (process running for 4.821)
2025-10-25 17:02:13 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-10-25 17:02:13 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-10-25 17:02:13 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected StandardServletMultipartResolver
2025-10-25 17:02:13 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected AcceptHeaderLocaleResolver
2025-10-25 17:02:13 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected FixedThemeResolver
2025-10-25 17:02:13 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@50bb24b9
2025-10-25 17:02:13 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.support.SessionFlashMapManager@66d3c18c
2025-10-25 17:02:13 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-10-25 17:02:13 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 0 ms
2025-10-25 17:02:13 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /swagger-ui/index.html
2025-10-25 17:02:13 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-25 17:02:13 [http-nio-8080-exec-1] WARN  o.s.w.s.h.HandlerMappingIntrospector - Cache miss for REQUEST dispatch to '/swagger-ui/index.html' (previous null). Performing MatchableHandlerMapping lookup. This is logged once only at WARN level, and every time at TRACE.
2025-10-25 17:02:13 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /swagger-ui/index.html
2025-10-25 17:02:13 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/swagger-ui/index.html", parameters={}
2025-10-25 17:02:13 [http-nio-8080-exec-1] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
2025-10-25 17:02:13 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-10-25 17:02:13 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /swagger-ui/swagger-ui-standalone-preset.js
2025-10-25 17:02:13 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /swagger-ui/swagger-ui-bundle.js
2025-10-25 17:02:13 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /swagger-ui/index.css
2025-10-25 17:02:13 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /swagger-ui/swagger-ui.css
2025-10-25 17:02:13 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /swagger-ui/swagger-initializer.js
2025-10-25 17:02:13 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-25 17:02:13 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-25 17:02:13 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-25 17:02:13 [http-nio-8080-exec-6] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-25 17:02:13 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-25 17:02:13 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /swagger-ui/swagger-initializer.js
2025-10-25 17:02:13 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /swagger-ui/swagger-ui-standalone-preset.js
2025-10-25 17:02:13 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/swagger-ui/swagger-initializer.js", parameters={}
2025-10-25 17:02:13 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /swagger-ui/swagger-ui.css
2025-10-25 17:02:13 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/swagger-ui/swagger-ui.css", parameters={}
2025-10-25 17:02:13 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/swagger-ui/swagger-ui-standalone-preset.js", parameters={}
2025-10-25 17:02:13 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /swagger-ui/index.css
2025-10-25 17:02:13 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /swagger-ui/swagger-ui-bundle.js
2025-10-25 17:02:13 [http-nio-8080-exec-6] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
2025-10-25 17:02:13 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/swagger-ui/swagger-ui-bundle.js", parameters={}
2025-10-25 17:02:13 [http-nio-8080-exec-2] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
2025-10-25 17:02:13 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/swagger-ui/index.css", parameters={}
2025-10-25 17:02:13 [http-nio-8080-exec-5] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
2025-10-25 17:02:13 [http-nio-8080-exec-3] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
2025-10-25 17:02:13 [http-nio-8080-exec-4] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
2025-10-25 17:02:13 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-10-25 17:02:13 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-10-25 17:02:13 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-10-25 17:02:13 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-10-25 17:02:13 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-10-25 17:02:13 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /v3/api-docs/swagger-config
2025-10-25 17:02:13 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-25 17:02:13 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /v3/api-docs/swagger-config
2025-10-25 17:02:13 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/v3/api-docs/swagger-config", parameters={}
2025-10-25 17:02:13 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springdoc.webmvc.ui.SwaggerConfigResource#openapiJson(HttpServletRequest)
2025-10-25 17:02:13 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json]
2025-10-25 17:02:13 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [{configUrl=/v3/api-docs/swagger-config, oauth2RedirectUrl=http://localhost:8080/swagger-ui/oauth2-re (truncated)...]
2025-10-25 17:02:13 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-10-25 17:02:13 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /v3/api-docs
2025-10-25 17:02:13 [http-nio-8080-exec-8] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-25 17:02:13 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /v3/api-docs
2025-10-25 17:02:13 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/v3/api-docs", parameters={}
2025-10-25 17:02:13 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springdoc.webmvc.api.OpenApiWebMvcResource#openapiJson(HttpServletRequest, String, Locale)
2025-10-25 17:02:13 [http-nio-8080-exec-8] INFO  o.s.api.AbstractOpenApiResource - Init duration for springdoc-openapi is: 218 ms
2025-10-25 17:02:13 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [application/json, */*] and supported [application/json]
2025-10-25 17:02:13 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [{123, 34, 111, 112, 101, 110, 97, 112, 105, 34, 58, 34, 51, 46, 48, 46, 49, 34, 44, 34, 105, 110, 10 (truncated)...]
2025-10-25 17:02:13 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-10-25 17:02:52 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/register
2025-10-25 17:02:52 [http-nio-8080-exec-10] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-25 17:02:52 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/register
2025-10-25 17:02:52 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/auth/register", parameters={}
2025-10-25 17:02:52 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.muhasebe.controller.AuthController#register(RegisterRequest)
2025-10-25 17:02:52 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [RegisterRequest(username=testuser, email=test@example.com, password=123456, firstName=Test, lastName (truncated)...]
2025-10-25 17:02:52 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.username=? 
    fetch
        first ? rows only
2025-10-25 17:02:52 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
2025-10-25 17:02:53 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    /* insert for
        com.muhasebe.entity.User */insert 
    into
        users (company_id, created_at, created_by, email, failed_login_attempts, first_name, is_active, is_deleted, is_email_verified, last_login_at, last_name, locked_until, password, phone, role, updated_at, updated_by, username) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-10-25 17:02:53 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    /* SELECT
        u 
    FROM
        User u 
    WHERE
        u.username = :identifier 
        OR u.email = :identifier */ select
            u1_0.id,
            u1_0.company_id,
            u1_0.created_at,
            u1_0.created_by,
            u1_0.email,
            u1_0.failed_login_attempts,
            u1_0.first_name,
            u1_0.is_active,
            u1_0.is_deleted,
            u1_0.is_email_verified,
            u1_0.last_login_at,
            u1_0.last_name,
            u1_0.locked_until,
            u1_0.password,
            u1_0.phone,
            u1_0.role,
            u1_0.updated_at,
            u1_0.updated_by,
            u1_0.username 
        from
            users u1_0 
        where
            u1_0.username=? 
            or u1_0.email=?
2025-10-25 17:02:53 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.company_id,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.email,
        u1_0.failed_login_attempts,
        u1_0.first_name,
        u1_0.is_active,
        u1_0.is_deleted,
        u1_0.is_email_verified,
        u1_0.last_login_at,
        u1_0.last_name,
        u1_0.locked_until,
        u1_0.password,
        u1_0.phone,
        u1_0.role,
        u1_0.updated_at,
        u1_0.updated_by,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-10-25 17:02:53 [http-nio-8080-exec-10] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2025-10-25 17:02:53 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    /* update
        for com.muhasebe.entity.User */update users 
    set
        company_id=?,
        email=?,
        failed_login_attempts=?,
        first_name=?,
        is_active=?,
        is_deleted=?,
        is_email_verified=?,
        last_login_at=?,
        last_name=?,
        locked_until=?,
        password=?,
        phone=?,
        role=?,
        updated_at=?,
        updated_by=?,
        username=? 
    where
        id=?
2025-10-25 17:02:53 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-10-25 17:02:53 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AuthResponse(accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJ0ZXN0dXNlciIsImlhdCI6MTc2MTQwMDk3MywiZXhwIj (truncated)...]
2025-10-25 17:02:53 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2025-10-25 17:03:11 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2025-10-25 17:03:11 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-25 17:03:11 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2025-10-25 17:03:11 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/auth/login", parameters={}
2025-10-25 17:03:11 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.muhasebe.controller.AuthController#login(LoginRequest)
2025-10-25 17:03:11 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [LoginRequest(usernameOrEmail=testuser, password=123456)]
2025-10-25 17:03:11 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    /* SELECT
        u 
    FROM
        User u 
    WHERE
        u.username = :identifier 
        OR u.email = :identifier */ select
            u1_0.id,
            u1_0.company_id,
            u1_0.created_at,
            u1_0.created_by,
            u1_0.email,
            u1_0.failed_login_attempts,
            u1_0.first_name,
            u1_0.is_active,
            u1_0.is_deleted,
            u1_0.is_email_verified,
            u1_0.last_login_at,
            u1_0.last_name,
            u1_0.locked_until,
            u1_0.password,
            u1_0.phone,
            u1_0.role,
            u1_0.updated_at,
            u1_0.updated_by,
            u1_0.username 
        from
            users u1_0 
        where
            u1_0.username=? 
            or u1_0.email=?
2025-10-25 17:03:11 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.company_id,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.email,
        u1_0.failed_login_attempts,
        u1_0.first_name,
        u1_0.is_active,
        u1_0.is_deleted,
        u1_0.is_email_verified,
        u1_0.last_login_at,
        u1_0.last_name,
        u1_0.locked_until,
        u1_0.password,
        u1_0.phone,
        u1_0.role,
        u1_0.updated_at,
        u1_0.updated_by,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-10-25 17:03:11 [http-nio-8080-exec-1] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2025-10-25 17:03:11 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    /* update
        for com.muhasebe.entity.User */update users 
    set
        company_id=?,
        email=?,
        failed_login_attempts=?,
        first_name=?,
        is_active=?,
        is_deleted=?,
        is_email_verified=?,
        last_login_at=?,
        last_name=?,
        locked_until=?,
        password=?,
        phone=?,
        role=?,
        updated_at=?,
        updated_by=?,
        username=? 
    where
        id=?
2025-10-25 17:03:11 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-10-25 17:03:11 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AuthResponse(accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJ0ZXN0dXNlciIsImlhdCI6MTc2MTQwMDk5MSwiZXhwIj (truncated)...]
2025-10-25 17:03:11 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-10-25 17:06:17 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2025-10-25 17:06:17 [http-nio-8080-exec-9] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-25 17:06:17 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2025-10-25 17:06:17 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/auth/login", parameters={}
2025-10-25 17:06:17 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.muhasebe.controller.AuthController#login(LoginRequest)
2025-10-25 17:06:17 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [LoginRequest(usernameOrEmail=testuser, password=123456)]
2025-10-25 17:06:17 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    /* SELECT
        u 
    FROM
        User u 
    WHERE
        u.username = :identifier 
        OR u.email = :identifier */ select
            u1_0.id,
            u1_0.company_id,
            u1_0.created_at,
            u1_0.created_by,
            u1_0.email,
            u1_0.failed_login_attempts,
            u1_0.first_name,
            u1_0.is_active,
            u1_0.is_deleted,
            u1_0.is_email_verified,
            u1_0.last_login_at,
            u1_0.last_name,
            u1_0.locked_until,
            u1_0.password,
            u1_0.phone,
            u1_0.role,
            u1_0.updated_at,
            u1_0.updated_by,
            u1_0.username 
        from
            users u1_0 
        where
            u1_0.username=? 
            or u1_0.email=?
2025-10-25 17:06:17 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.company_id,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.email,
        u1_0.failed_login_attempts,
        u1_0.first_name,
        u1_0.is_active,
        u1_0.is_deleted,
        u1_0.is_email_verified,
        u1_0.last_login_at,
        u1_0.last_name,
        u1_0.locked_until,
        u1_0.password,
        u1_0.phone,
        u1_0.role,
        u1_0.updated_at,
        u1_0.updated_by,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-10-25 17:06:17 [http-nio-8080-exec-9] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2025-10-25 17:06:17 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    /* update
        for com.muhasebe.entity.User */update users 
    set
        company_id=?,
        email=?,
        failed_login_attempts=?,
        first_name=?,
        is_active=?,
        is_deleted=?,
        is_email_verified=?,
        last_login_at=?,
        last_name=?,
        locked_until=?,
        password=?,
        phone=?,
        role=?,
        updated_at=?,
        updated_by=?,
        username=? 
    where
        id=?
2025-10-25 17:06:17 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-10-25 17:06:17 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AuthResponse(accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJ0ZXN0dXNlciIsImlhdCI6MTc2MTQwMTE3NywiZXhwIj (truncated)...]
2025-10-25 17:06:17 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-10-25 17:08:12 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/companies/1/customers
2025-10-25 17:08:12 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.company_id,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.email,
        u1_0.failed_login_attempts,
        u1_0.first_name,
        u1_0.is_active,
        u1_0.is_deleted,
        u1_0.is_email_verified,
        u1_0.last_login_at,
        u1_0.last_name,
        u1_0.locked_until,
        u1_0.password,
        u1_0.phone,
        u1_0.role,
        u1_0.updated_at,
        u1_0.updated_by,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-10-25 17:08:12 [http-nio-8080-exec-5] DEBUG c.m.security.JwtAuthenticationFilter - Set Authentication for user: admin
2025-10-25 17:08:12 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/companies/1/customers
2025-10-25 17:08:12 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/companies/1/customers", parameters={}
2025-10-25 17:08:12 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.muhasebe.controller.CustomerController#createCustomer(Long, CustomerRequest)
2025-10-25 17:08:12 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CustomerRequest(name=XYZ Malzeme Ltd. Şti., contactPerson=Ayşe Kaya, taxNumber=9876543210, identityN (truncated)...]
2025-10-25 17:08:12 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.muhasebe.controller.CustomerController.createCustomer(java.lang.Long,com.muhasebe.dto.request.CustomerRequest); target is of class [com.muhasebe.controller.CustomerController]
2025-10-25 17:08:12 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.muhasebe.controller.CustomerController.createCustomer(java.lang.Long,com.muhasebe.dto.request.CustomerRequest); target is of class [com.muhasebe.controller.CustomerController]
2025-10-25 17:08:12 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.company_type,
        c1_0.country,
        c1_0.created_at,
        c1_0.created_by,
        c1_0.district,
        c1_0.e_archive_enabled,
        c1_0.e_invoice_enabled,
        c1_0.email,
        c1_0.establishment_date,
        c1_0.fax,
        c1_0.gib_password,
        c1_0.gib_username,
        c1_0.is_active,
        c1_0.is_deleted,
        c1_0.logo_url,
        c1_0.mersis_no,
        c1_0.name,
        c1_0.phone,
        c1_0.postal_code,
        c1_0.tax_number,
        c1_0.tax_office,
        c1_0.trade_name,
        c1_0.updated_at,
        c1_0.updated_by,
        c1_0.website 
    from
        companies c1_0 
    where
        c1_0.id=?
2025-10-25 17:08:12 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    /* SELECT
        COUNT(c) > 0 
    FROM
        Customer c 
    WHERE
        c.taxNumber = :taxNumber 
        AND c.company.id = :companyId 
        AND c.isDeleted = false */ select
            count(c1_0.id)>0 
        from
            customers c1_0 
        where
            c1_0.tax_number=? 
            and c1_0.company_id=? 
            and c1_0.is_deleted=false
2025-10-25 17:08:12 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    /* insert for
        com.muhasebe.entity.Customer */insert 
    into
        customers (address, balance, city, company_id, contact_person, country, created_at, created_by, credit_limit, customer_type, district, email, fax, identity_number, is_active, is_deleted, mobile, name, notes, payment_terms, phone, postal_code, tax_number, tax_office, updated_at, updated_by, website) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-10-25 17:08:12 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-10-25 17:08:12 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [CustomerResponse(id=1, name=XYZ Malzeme Ltd. Şti., contactPerson=Ayşe Kaya, taxNumber=9876543210, id (truncated)...]
2025-10-25 17:08:12 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2025-10-25 17:08:59 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/companies/1/suppliers
2025-10-25 17:08:59 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.company_id,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.email,
        u1_0.failed_login_attempts,
        u1_0.first_name,
        u1_0.is_active,
        u1_0.is_deleted,
        u1_0.is_email_verified,
        u1_0.last_login_at,
        u1_0.last_name,
        u1_0.locked_until,
        u1_0.password,
        u1_0.phone,
        u1_0.role,
        u1_0.updated_at,
        u1_0.updated_by,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-10-25 17:08:59 [http-nio-8080-exec-2] DEBUG c.m.security.JwtAuthenticationFilter - Set Authentication for user: admin
2025-10-25 17:08:59 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/companies/1/suppliers
2025-10-25 17:08:59 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/companies/1/suppliers", parameters={}
2025-10-25 17:08:59 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.muhasebe.controller.SupplierController#createSupplier(Long, SupplierRequest)
2025-10-25 17:08:59 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [SupplierRequest(name=XYZ Tedarik A.Ş., contactPerson=null, taxNumber=9876543210, taxOffice=Beşiktaş, (truncated)...]
2025-10-25 17:08:59 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.muhasebe.controller.SupplierController.createSupplier(java.lang.Long,com.muhasebe.dto.request.SupplierRequest); target is of class [com.muhasebe.controller.SupplierController]
2025-10-25 17:08:59 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.muhasebe.controller.SupplierController.createSupplier(java.lang.Long,com.muhasebe.dto.request.SupplierRequest); target is of class [com.muhasebe.controller.SupplierController]
2025-10-25 17:08:59 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.company_type,
        c1_0.country,
        c1_0.created_at,
        c1_0.created_by,
        c1_0.district,
        c1_0.e_archive_enabled,
        c1_0.e_invoice_enabled,
        c1_0.email,
        c1_0.establishment_date,
        c1_0.fax,
        c1_0.gib_password,
        c1_0.gib_username,
        c1_0.is_active,
        c1_0.is_deleted,
        c1_0.logo_url,
        c1_0.mersis_no,
        c1_0.name,
        c1_0.phone,
        c1_0.postal_code,
        c1_0.tax_number,
        c1_0.tax_office,
        c1_0.trade_name,
        c1_0.updated_at,
        c1_0.updated_by,
        c1_0.website 
    from
        companies c1_0 
    where
        c1_0.id=?
2025-10-25 17:08:59 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    /* SELECT
        COUNT(s) > 0 
    FROM
        Supplier s 
    WHERE
        s.taxNumber = :taxNumber 
        AND s.company.id = :companyId 
        AND s.isDeleted = false */ select
            count(s1_0.id)>0 
        from
            suppliers s1_0 
        where
            s1_0.tax_number=? 
            and s1_0.company_id=? 
            and s1_0.is_deleted=false
2025-10-25 17:08:59 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    /* insert for
        com.muhasebe.entity.Supplier */insert 
    into
        suppliers (address, balance, bank_account_number, bank_name, city, company_id, contact_person, country, created_at, created_by, district, email, fax, iban, is_active, is_deleted, mobile, name, notes, payment_terms, phone, postal_code, supplier_type, tax_number, tax_office, updated_at, updated_by, website) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-10-25 17:08:59 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-10-25 17:08:59 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [SupplierResponse(id=1, name=XYZ Tedarik A.Ş., contactPerson=null, taxNumber=9876543210, taxOffice=Be (truncated)...]
2025-10-25 17:08:59 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2025-10-25 17:12:37 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/companies/1/customers
2025-10-25 17:12:37 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-25 17:12:37 [http-nio-8080-exec-4] ERROR c.m.s.JwtAuthenticationEntryPoint - Unauthorized error: Full authentication is required to access this resource
2025-10-25 17:13:17 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/companies/1/customers
2025-10-25 17:13:17 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.company_id,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.email,
        u1_0.failed_login_attempts,
        u1_0.first_name,
        u1_0.is_active,
        u1_0.is_deleted,
        u1_0.is_email_verified,
        u1_0.last_login_at,
        u1_0.last_name,
        u1_0.locked_until,
        u1_0.password,
        u1_0.phone,
        u1_0.role,
        u1_0.updated_at,
        u1_0.updated_by,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-10-25 17:13:17 [http-nio-8080-exec-7] DEBUG c.m.security.JwtAuthenticationFilter - Set Authentication for user: admin
2025-10-25 17:13:17 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/companies/1/customers
2025-10-25 17:13:17 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/companies/1/customers", parameters={}
2025-10-25 17:13:17 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.muhasebe.controller.CustomerController#getAllCustomers(Long, int, int, String, String)
2025-10-25 17:13:17 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.muhasebe.controller.CustomerController.getAllCustomers(java.lang.Long,int,int,java.lang.String,java.lang.String); target is of class [com.muhasebe.controller.CustomerController]
2025-10-25 17:13:17 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.muhasebe.controller.CustomerController.getAllCustomers(java.lang.Long,int,int,java.lang.String,java.lang.String); target is of class [com.muhasebe.controller.CustomerController]
2025-10-25 17:13:17 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    /* SELECT
        c 
    FROM
        Customer c 
    WHERE
        c.company.id = :companyId 
        AND c.isDeleted = false 
    order by
        c.name asc */ select
            c1_0.id,
            c1_0.address,
            c1_0.balance,
            c1_0.city,
            c1_0.company_id,
            c1_0.contact_person,
            c1_0.country,
            c1_0.created_at,
            c1_0.created_by,
            c1_0.credit_limit,
            c1_0.customer_type,
            c1_0.district,
            c1_0.email,
            c1_0.fax,
            c1_0.identity_number,
            c1_0.is_active,
            c1_0.is_deleted,
            c1_0.mobile,
            c1_0.name,
            c1_0.notes,
            c1_0.payment_terms,
            c1_0.phone,
            c1_0.postal_code,
            c1_0.tax_number,
            c1_0.tax_office,
            c1_0.updated_at,
            c1_0.updated_by,
            c1_0.website 
        from
            customers c1_0 
        where
            c1_0.company_id=? 
            and c1_0.is_deleted=false 
        order by
            c1_0.name 
        offset
            ? rows 
        fetch
            first ? rows only
2025-10-25 17:13:17 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-10-25 17:13:17 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{message=could not initialize proxy [com.muhasebe.entity.Company#1] - no Session}]
2025-10-25 17:13:17 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 400 BAD_REQUEST
2025-10-25 17:19:04 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/register
2025-10-25 17:19:04 [http-nio-8080-exec-9] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-25 17:19:04 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/register
2025-10-25 17:19:04 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/auth/register", parameters={}
2025-10-25 17:19:04 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.muhasebe.controller.AuthController#register(RegisterRequest)
2025-10-25 17:19:04 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [RegisterRequest(username=adminuser, email=admin@muhasebe.com, password=Admin123!, firstName=Admin, l (truncated)...]
2025-10-25 17:19:04 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.username=? 
    fetch
        first ? rows only
2025-10-25 17:19:04 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
2025-10-25 17:19:04 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-10-25 17:19:04 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{message=Bu email adresi zaten kullanılıyor}]
2025-10-25 17:19:04 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 400 BAD_REQUEST
2025-10-25 17:19:11 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-10-25 17:19:11 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-10-25 17:19:11 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-10-25 17:19:14 [restartedMain] INFO  com.muhasebe.MuhasebeApplication - Starting MuhasebeApplication using Java 17.0.16 with PID 21488 (C:\projects\muhasebe-app\target\classes started by pc in C:\projects\muhasebe-app)
2025-10-25 17:19:14 [restartedMain] DEBUG com.muhasebe.MuhasebeApplication - Running with Spring Boot v3.2.0, Spring v6.1.1
2025-10-25 17:19:14 [restartedMain] INFO  com.muhasebe.MuhasebeApplication - The following 1 profile is active: "dev"
2025-10-25 17:19:14 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-10-25 17:19:14 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-10-25 17:19:15 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-10-25 17:19:15 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 40 ms. Found 4 JPA repository interfaces.
2025-10-25 17:19:15 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-10-25 17:19:15 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-10-25 17:19:15 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.16]
2025-10-25 17:19:15 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-10-25 17:19:15 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1069 ms
2025-10-25 17:19:15 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-10-25 17:19:15 [restartedMain] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.3.1.Final
2025-10-25 17:19:15 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-10-25 17:19:16 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-10-25 17:19:16 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-10-25 17:19:16 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@3e188897
2025-10-25 17:19:16 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-10-25 17:19:16 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-10-25 17:19:16 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-10-25 17:19:16 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-10-25 17:19:17 [restartedMain] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-10-25 17:19:17 [restartedMain] DEBUG c.m.security.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-10-25 17:19:17 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 25 mappings in 'requestMappingHandlerMapping'
2025-10-25 17:19:17 [restartedMain] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-10-25 17:19:17 [restartedMain] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@492af6a, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7bf27ea6, org.springframework.security.web.context.SecurityContextHolderFilter@6de4b229, org.springframework.security.web.header.HeaderWriterFilter@77004dfa, org.springframework.web.filter.CorsFilter@3c9fbdc7, org.springframework.web.filter.CorsFilter@235f67e1, org.springframework.security.web.authentication.logout.LogoutFilter@9a064da, com.muhasebe.security.JwtAuthenticationFilter@1c2411cb, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@63d545b8, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1e3451b0, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3227651f, org.springframework.security.web.session.SessionManagementFilter@5b0812bb, org.springframework.security.web.access.ExceptionTranslationFilter@6e848891, org.springframework.security.web.access.intercept.AuthorizationFilter@1efce10]
2025-10-25 17:19:18 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-10-25 17:19:18 [restartedMain] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-10-25 17:19:18 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-10-25 17:19:18 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path ''
2025-10-25 17:19:18 [restartedMain] INFO  com.muhasebe.MuhasebeApplication - Started MuhasebeApplication in 3.75 seconds (process running for 4.045)
2025-10-25 17:19:39 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-10-25 17:19:39 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-10-25 17:19:39 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected StandardServletMultipartResolver
2025-10-25 17:19:39 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected AcceptHeaderLocaleResolver
2025-10-25 17:19:39 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected FixedThemeResolver
2025-10-25 17:19:39 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@2de62f1e
2025-10-25 17:19:39 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.support.SessionFlashMapManager@75fdf11a
2025-10-25 17:19:39 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-10-25 17:19:39 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2025-10-25 17:19:39 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/register
2025-10-25 17:19:39 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-25 17:19:39 [http-nio-8080-exec-1] WARN  o.s.w.s.h.HandlerMappingIntrospector - Cache miss for REQUEST dispatch to '/api/auth/register' (previous null). Performing MatchableHandlerMapping lookup. This is logged once only at WARN level, and every time at TRACE.
2025-10-25 17:19:39 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/register
2025-10-25 17:19:39 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/auth/register", parameters={}
2025-10-25 17:19:39 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.muhasebe.controller.AuthController#register(RegisterRequest)
2025-10-25 17:19:39 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [RegisterRequest(username=adminuser, email=admin@muhasebe.com, password=Admin123!, firstName=Admin, l (truncated)...]
2025-10-25 17:19:39 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.username=? 
    fetch
        first ? rows only
2025-10-25 17:19:39 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
2025-10-25 17:19:39 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-10-25 17:19:39 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{message=Bu email adresi zaten kullanılıyor}]
2025-10-25 17:19:39 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 400 BAD_REQUEST
2025-10-25 17:20:00 [http-nio-8080-exec-4] DEBUG o.s.s.w.f.HttpStatusRequestRejectedHandler - Rejecting request due to: The request was rejected because the URL contained a potentially malicious String "//"
org.springframework.security.web.firewall.RequestRejectedException: The request was rejected because the URL contained a potentially malicious String "//"
	at org.springframework.security.web.firewall.StrictHttpFirewall.rejectedBlocklistedUrls(StrictHttpFirewall.java:535)
	at org.springframework.security.web.firewall.StrictHttpFirewall.getFirewalledRequest(StrictHttpFirewall.java:505)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:840)
2025-10-25 17:20:00 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing POST /error
2025-10-25 17:20:00 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-25 17:20:00 [http-nio-8080-exec-4] ERROR c.m.s.JwtAuthenticationEntryPoint - Unauthorized error: Full authentication is required to access this resource
2025-10-25 17:20:21 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/register
2025-10-25 17:20:21 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-25 17:20:21 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/register
2025-10-25 17:20:21 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/auth/register", parameters={}
2025-10-25 17:20:21 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.muhasebe.controller.AuthController#register(RegisterRequest)
2025-10-25 17:20:21 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [RegisterRequest(username=adminuser, email=admin@muhasebe.com, password=Admin123!, firstName=Admin, l (truncated)...]
2025-10-25 17:20:21 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.username=? 
    fetch
        first ? rows only
2025-10-25 17:20:21 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
2025-10-25 17:20:21 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-10-25 17:20:21 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{message=Bu email adresi zaten kullanılıyor}]
2025-10-25 17:20:21 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 400 BAD_REQUEST
2025-10-25 17:21:12 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/register
2025-10-25 17:21:12 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-25 17:21:12 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/register
2025-10-25 17:21:12 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/auth/register", parameters={}
2025-10-25 17:21:12 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.muhasebe.controller.AuthController#register(RegisterRequest)
2025-10-25 17:21:12 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [RegisterRequest(username=adminuser, email=admin3@muhasebe.com, password=Admin123!, firstName=Admin,  (truncated)...]
2025-10-25 17:21:12 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.username=? 
    fetch
        first ? rows only
2025-10-25 17:21:12 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
2025-10-25 17:21:13 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    /* insert for
        com.muhasebe.entity.User */insert 
    into
        users (company_id, created_at, created_by, email, failed_login_attempts, first_name, is_active, is_deleted, is_email_verified, last_login_at, last_name, locked_until, password, phone, role, updated_at, updated_by, username) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-10-25 17:21:13 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    /* SELECT
        u 
    FROM
        User u 
    WHERE
        u.username = :identifier 
        OR u.email = :identifier */ select
            u1_0.id,
            u1_0.company_id,
            u1_0.created_at,
            u1_0.created_by,
            u1_0.email,
            u1_0.failed_login_attempts,
            u1_0.first_name,
            u1_0.is_active,
            u1_0.is_deleted,
            u1_0.is_email_verified,
            u1_0.last_login_at,
            u1_0.last_name,
            u1_0.locked_until,
            u1_0.password,
            u1_0.phone,
            u1_0.role,
            u1_0.updated_at,
            u1_0.updated_by,
            u1_0.username 
        from
            users u1_0 
        where
            u1_0.username=? 
            or u1_0.email=?
2025-10-25 17:21:13 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.company_id,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.email,
        u1_0.failed_login_attempts,
        u1_0.first_name,
        u1_0.is_active,
        u1_0.is_deleted,
        u1_0.is_email_verified,
        u1_0.last_login_at,
        u1_0.last_name,
        u1_0.locked_until,
        u1_0.password,
        u1_0.phone,
        u1_0.role,
        u1_0.updated_at,
        u1_0.updated_by,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-10-25 17:21:13 [http-nio-8080-exec-7] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2025-10-25 17:21:13 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    /* update
        for com.muhasebe.entity.User */update users 
    set
        company_id=?,
        email=?,
        failed_login_attempts=?,
        first_name=?,
        is_active=?,
        is_deleted=?,
        is_email_verified=?,
        last_login_at=?,
        last_name=?,
        locked_until=?,
        password=?,
        phone=?,
        role=?,
        updated_at=?,
        updated_by=?,
        username=? 
    where
        id=?
2025-10-25 17:21:13 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-10-25 17:21:13 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AuthResponse(accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbnVzZXIiLCJpYXQiOjE3NjE0MDIwNzMsImV4cC (truncated)...]
2025-10-25 17:21:13 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2025-10-25 17:21:40 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/companies/null/customers
2025-10-25 17:21:40 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.company_id,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.email,
        u1_0.failed_login_attempts,
        u1_0.first_name,
        u1_0.is_active,
        u1_0.is_deleted,
        u1_0.is_email_verified,
        u1_0.last_login_at,
        u1_0.last_name,
        u1_0.locked_until,
        u1_0.password,
        u1_0.phone,
        u1_0.role,
        u1_0.updated_at,
        u1_0.updated_by,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-10-25 17:21:40 [http-nio-8080-exec-8] DEBUG c.m.security.JwtAuthenticationFilter - Set Authentication for user: adminuser
2025-10-25 17:21:40 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/companies/null/customers
2025-10-25 17:21:40 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/companies/null/customers", parameters={}
2025-10-25 17:21:40 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.muhasebe.controller.CustomerController#createCustomer(Long, CustomerRequest)
2025-10-25 17:21:40 [http-nio-8080-exec-8] DEBUG o.s.web.method.HandlerMethod - Could not resolve parameter [0] in public org.springframework.http.ResponseEntity<?> com.muhasebe.controller.CustomerController.createCustomer(java.lang.Long,com.muhasebe.dto.request.CustomerRequest): Failed to convert value of type 'java.lang.String' to required type 'java.lang.Long'; For input string: "null"
2025-10-25 17:21:40 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.muhasebe.exception.GlobalExceptionHandler#handleGlobalException(Exception, WebRequest)
2025-10-25 17:21:40 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-10-25 17:21:40 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{path=/api/companies/null/customers, error=Internal Server Error, message=Beklenmeyen bir hata oluşt (truncated)...]
2025-10-25 17:21:40 [http-nio-8080-exec-8] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.method.annotation.MethodArgumentTypeMismatchException: Failed to convert value of type 'java.lang.String' to required type 'java.lang.Long'; For input string: "null"]
2025-10-25 17:21:40 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-10-25 17:22:36 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2025-10-25 17:22:36 [http-nio-8080-exec-10] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-25 17:22:36 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2025-10-25 17:22:36 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/auth/login", parameters={}
2025-10-25 17:22:36 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.muhasebe.controller.AuthController#login(LoginRequest)
2025-10-25 17:22:36 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [LoginRequest(usernameOrEmail=adminuser, password=Admin123!)]
2025-10-25 17:22:36 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    /* SELECT
        u 
    FROM
        User u 
    WHERE
        u.username = :identifier 
        OR u.email = :identifier */ select
            u1_0.id,
            u1_0.company_id,
            u1_0.created_at,
            u1_0.created_by,
            u1_0.email,
            u1_0.failed_login_attempts,
            u1_0.first_name,
            u1_0.is_active,
            u1_0.is_deleted,
            u1_0.is_email_verified,
            u1_0.last_login_at,
            u1_0.last_name,
            u1_0.locked_until,
            u1_0.password,
            u1_0.phone,
            u1_0.role,
            u1_0.updated_at,
            u1_0.updated_by,
            u1_0.username 
        from
            users u1_0 
        where
            u1_0.username=? 
            or u1_0.email=?
2025-10-25 17:22:36 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.company_id,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.email,
        u1_0.failed_login_attempts,
        u1_0.first_name,
        u1_0.is_active,
        u1_0.is_deleted,
        u1_0.is_email_verified,
        u1_0.last_login_at,
        u1_0.last_name,
        u1_0.locked_until,
        u1_0.password,
        u1_0.phone,
        u1_0.role,
        u1_0.updated_at,
        u1_0.updated_by,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-10-25 17:22:36 [http-nio-8080-exec-10] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2025-10-25 17:22:36 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    /* update
        for com.muhasebe.entity.User */update users 
    set
        company_id=?,
        email=?,
        failed_login_attempts=?,
        first_name=?,
        is_active=?,
        is_deleted=?,
        is_email_verified=?,
        last_login_at=?,
        last_name=?,
        locked_until=?,
        password=?,
        phone=?,
        role=?,
        updated_at=?,
        updated_by=?,
        username=? 
    where
        id=?
2025-10-25 17:22:36 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-10-25 17:22:36 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AuthResponse(accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbnVzZXIiLCJpYXQiOjE3NjE0MDIxNTYsImV4cC (truncated)...]
2025-10-25 17:22:36 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-10-25 17:24:36 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-10-25 17:24:36 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-10-25 17:24:36 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-10-25 17:24:39 [restartedMain] INFO  com.muhasebe.MuhasebeApplication - Starting MuhasebeApplication using Java 17.0.16 with PID 31684 (C:\projects\muhasebe-app\target\classes started by pc in C:\projects\muhasebe-app)
2025-10-25 17:24:39 [restartedMain] DEBUG com.muhasebe.MuhasebeApplication - Running with Spring Boot v3.2.0, Spring v6.1.1
2025-10-25 17:24:39 [restartedMain] INFO  com.muhasebe.MuhasebeApplication - The following 1 profile is active: "dev"
2025-10-25 17:24:39 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-10-25 17:24:39 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-10-25 17:24:40 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-10-25 17:24:40 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 37 ms. Found 4 JPA repository interfaces.
2025-10-25 17:24:40 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-10-25 17:24:40 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-10-25 17:24:40 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.16]
2025-10-25 17:24:40 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-10-25 17:24:40 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1093 ms
2025-10-25 17:24:40 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-10-25 17:24:40 [restartedMain] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.3.1.Final
2025-10-25 17:24:40 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-10-25 17:24:40 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-10-25 17:24:40 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-10-25 17:24:41 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@677a7623
2025-10-25 17:24:41 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-10-25 17:24:41 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-10-25 17:24:41 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-10-25 17:24:41 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-10-25 17:24:41 [restartedMain] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-10-25 17:24:42 [restartedMain] DEBUG c.m.security.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-10-25 17:24:42 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 25 mappings in 'requestMappingHandlerMapping'
2025-10-25 17:24:42 [restartedMain] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-10-25 17:24:42 [restartedMain] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@70620aa7, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6581eef2, org.springframework.security.web.context.SecurityContextHolderFilter@1ffbcdef, org.springframework.security.web.header.HeaderWriterFilter@6ca8b28f, org.springframework.web.filter.CorsFilter@1efce10, org.springframework.web.filter.CorsFilter@e593e69, org.springframework.security.web.authentication.logout.LogoutFilter@18710777, com.muhasebe.security.JwtAuthenticationFilter@4dff49b9, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5b0812bb, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@616e9991, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6e8e3a37, org.springframework.security.web.session.SessionManagementFilter@5ed5d949, org.springframework.security.web.access.ExceptionTranslationFilter@606105a, org.springframework.security.web.access.intercept.AuthorizationFilter@30d4a455]
2025-10-25 17:24:42 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-10-25 17:24:42 [restartedMain] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-10-25 17:24:42 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-10-25 17:24:43 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path ''
2025-10-25 17:24:43 [restartedMain] INFO  com.muhasebe.MuhasebeApplication - Started MuhasebeApplication in 3.854 seconds (process running for 4.169)
2025-10-25 17:24:55 [http-nio-8080-exec-3] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-10-25 17:24:55 [http-nio-8080-exec-3] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-10-25 17:24:55 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Detected StandardServletMultipartResolver
2025-10-25 17:24:55 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Detected AcceptHeaderLocaleResolver
2025-10-25 17:24:55 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Detected FixedThemeResolver
2025-10-25 17:24:55 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@3ab173d3
2025-10-25 17:24:55 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.support.SessionFlashMapManager@15718f0f
2025-10-25 17:24:55 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-10-25 17:24:55 [http-nio-8080-exec-3] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-10-25 17:24:55 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/register
2025-10-25 17:24:55 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-25 17:24:55 [http-nio-8080-exec-3] WARN  o.s.w.s.h.HandlerMappingIntrospector - Cache miss for REQUEST dispatch to '/api/auth/register' (previous null). Performing MatchableHandlerMapping lookup. This is logged once only at WARN level, and every time at TRACE.
2025-10-25 17:24:55 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/register
2025-10-25 17:24:55 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/auth/register", parameters={}
2025-10-25 17:24:55 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.muhasebe.controller.AuthController#register(RegisterRequest)
2025-10-25 17:24:55 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [RegisterRequest(username=adminuser, email=admin2@muhasebe.com, password=Admin123!, firstName=Admin,  (truncated)...]
2025-10-25 17:24:55 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.username=? 
    fetch
        first ? rows only
2025-10-25 17:24:55 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-10-25 17:24:55 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{message=Bu kullanıcı adı zaten kullanılıyor}]
2025-10-25 17:24:55 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 400 BAD_REQUEST
2025-10-25 17:25:07 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/register
2025-10-25 17:25:07 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-25 17:25:07 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/register
2025-10-25 17:25:07 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/auth/register", parameters={}
2025-10-25 17:25:07 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.muhasebe.controller.AuthController#register(RegisterRequest)
2025-10-25 17:25:07 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [RegisterRequest(username=adminuser2, email=admin2@muhasebe.com, password=Admin123!, firstName=Admin, (truncated)...]
2025-10-25 17:25:07 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.username=? 
    fetch
        first ? rows only
2025-10-25 17:25:07 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
2025-10-25 17:25:07 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    /* insert for
        com.muhasebe.entity.Company */insert 
    into
        companies (address, city, company_type, country, created_at, created_by, district, e_archive_enabled, e_invoice_enabled, email, establishment_date, fax, gib_password, gib_username, is_active, is_deleted, logo_url, mersis_no, name, phone, postal_code, tax_number, tax_office, trade_name, updated_at, updated_by, website) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-10-25 17:25:07 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    /* insert for
        com.muhasebe.entity.User */insert 
    into
        users (company_id, created_at, created_by, email, failed_login_attempts, first_name, is_active, is_deleted, is_email_verified, last_login_at, last_name, locked_until, password, phone, role, updated_at, updated_by, username) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-10-25 17:25:07 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    /* SELECT
        u 
    FROM
        User u 
    WHERE
        u.username = :identifier 
        OR u.email = :identifier */ select
            u1_0.id,
            u1_0.company_id,
            u1_0.created_at,
            u1_0.created_by,
            u1_0.email,
            u1_0.failed_login_attempts,
            u1_0.first_name,
            u1_0.is_active,
            u1_0.is_deleted,
            u1_0.is_email_verified,
            u1_0.last_login_at,
            u1_0.last_name,
            u1_0.locked_until,
            u1_0.password,
            u1_0.phone,
            u1_0.role,
            u1_0.updated_at,
            u1_0.updated_by,
            u1_0.username 
        from
            users u1_0 
        where
            u1_0.username=? 
            or u1_0.email=?
2025-10-25 17:25:07 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.company_id,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.email,
        u1_0.failed_login_attempts,
        u1_0.first_name,
        u1_0.is_active,
        u1_0.is_deleted,
        u1_0.is_email_verified,
        u1_0.last_login_at,
        u1_0.last_name,
        u1_0.locked_until,
        u1_0.password,
        u1_0.phone,
        u1_0.role,
        u1_0.updated_at,
        u1_0.updated_by,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-10-25 17:25:08 [http-nio-8080-exec-4] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2025-10-25 17:25:08 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    /* update
        for com.muhasebe.entity.User */update users 
    set
        company_id=?,
        email=?,
        failed_login_attempts=?,
        first_name=?,
        is_active=?,
        is_deleted=?,
        is_email_verified=?,
        last_login_at=?,
        last_name=?,
        locked_until=?,
        password=?,
        phone=?,
        role=?,
        updated_at=?,
        updated_by=?,
        username=? 
    where
        id=?
2025-10-25 17:25:08 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-10-25 17:25:08 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AuthResponse(accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbnVzZXIyIiwiaWF0IjoxNzYxNDAyMzA4LCJleH (truncated)...]
2025-10-25 17:25:08 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2025-10-25 17:25:42 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/companies/2/customers
2025-10-25 17:25:42 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.company_id,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.email,
        u1_0.failed_login_attempts,
        u1_0.first_name,
        u1_0.is_active,
        u1_0.is_deleted,
        u1_0.is_email_verified,
        u1_0.last_login_at,
        u1_0.last_name,
        u1_0.locked_until,
        u1_0.password,
        u1_0.phone,
        u1_0.role,
        u1_0.updated_at,
        u1_0.updated_by,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-10-25 17:25:42 [http-nio-8080-exec-2] DEBUG c.m.security.JwtAuthenticationFilter - Set Authentication for user: adminuser2
2025-10-25 17:25:42 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/companies/2/customers
2025-10-25 17:25:42 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/companies/2/customers", parameters={}
2025-10-25 17:25:42 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.muhasebe.controller.CustomerController#createCustomer(Long, CustomerRequest)
2025-10-25 17:25:42 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CustomerRequest(name=ABC Ticaret Ltd. Şti., contactPerson=Ahmet Yılmaz, taxNumber=1234567891, identi (truncated)...]
2025-10-25 17:25:42 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.muhasebe.controller.CustomerController.createCustomer(java.lang.Long,com.muhasebe.dto.request.CustomerRequest); target is of class [com.muhasebe.controller.CustomerController]
2025-10-25 17:25:42 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.muhasebe.controller.CustomerController.createCustomer(java.lang.Long,com.muhasebe.dto.request.CustomerRequest); target is of class [com.muhasebe.controller.CustomerController]
2025-10-25 17:25:42 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.company_type,
        c1_0.country,
        c1_0.created_at,
        c1_0.created_by,
        c1_0.district,
        c1_0.e_archive_enabled,
        c1_0.e_invoice_enabled,
        c1_0.email,
        c1_0.establishment_date,
        c1_0.fax,
        c1_0.gib_password,
        c1_0.gib_username,
        c1_0.is_active,
        c1_0.is_deleted,
        c1_0.logo_url,
        c1_0.mersis_no,
        c1_0.name,
        c1_0.phone,
        c1_0.postal_code,
        c1_0.tax_number,
        c1_0.tax_office,
        c1_0.trade_name,
        c1_0.updated_at,
        c1_0.updated_by,
        c1_0.website 
    from
        companies c1_0 
    where
        c1_0.id=?
2025-10-25 17:25:42 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    /* SELECT
        COUNT(c) > 0 
    FROM
        Customer c 
    WHERE
        c.taxNumber = :taxNumber 
        AND c.company.id = :companyId 
        AND c.isDeleted = false */ select
            count(c1_0.id)>0 
        from
            customers c1_0 
        where
            c1_0.tax_number=? 
            and c1_0.company_id=? 
            and c1_0.is_deleted=false
2025-10-25 17:25:43 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    /* insert for
        com.muhasebe.entity.Customer */insert 
    into
        customers (address, balance, city, company_id, contact_person, country, created_at, created_by, credit_limit, customer_type, district, email, fax, identity_number, is_active, is_deleted, mobile, name, notes, payment_terms, phone, postal_code, tax_number, tax_office, updated_at, updated_by, website) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-10-25 17:25:43 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-10-25 17:25:43 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [CustomerResponse(id=2, name=ABC Ticaret Ltd. Şti., contactPerson=Ahmet Yılmaz, taxNumber=1234567891, (truncated)...]
2025-10-25 17:25:43 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2025-10-25 17:26:28 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/companies/2/customers?page=0&size=10&sortBy=name&sortDir=asc
2025-10-25 17:26:28 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.company_id,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.email,
        u1_0.failed_login_attempts,
        u1_0.first_name,
        u1_0.is_active,
        u1_0.is_deleted,
        u1_0.is_email_verified,
        u1_0.last_login_at,
        u1_0.last_name,
        u1_0.locked_until,
        u1_0.password,
        u1_0.phone,
        u1_0.role,
        u1_0.updated_at,
        u1_0.updated_by,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-10-25 17:26:28 [http-nio-8080-exec-9] DEBUG c.m.security.JwtAuthenticationFilter - Set Authentication for user: adminuser2
2025-10-25 17:26:28 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/companies/2/customers?page=0&size=10&sortBy=name&sortDir=asc
2025-10-25 17:26:28 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/companies/2/customers?page=0&size=10&sortBy=name&sortDir=asc", parameters={masked}
2025-10-25 17:26:28 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.muhasebe.controller.CustomerController#getAllCustomers(Long, int, int, String, String)
2025-10-25 17:26:28 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.muhasebe.controller.CustomerController.getAllCustomers(java.lang.Long,int,int,java.lang.String,java.lang.String); target is of class [com.muhasebe.controller.CustomerController]
2025-10-25 17:26:28 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.muhasebe.controller.CustomerController.getAllCustomers(java.lang.Long,int,int,java.lang.String,java.lang.String); target is of class [com.muhasebe.controller.CustomerController]
2025-10-25 17:26:28 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    /* SELECT
        c 
    FROM
        Customer c 
    WHERE
        c.company.id = :companyId 
        AND c.isDeleted = false 
    order by
        c.name asc */ select
            c1_0.id,
            c1_0.address,
            c1_0.balance,
            c1_0.city,
            c1_0.company_id,
            c1_0.contact_person,
            c1_0.country,
            c1_0.created_at,
            c1_0.created_by,
            c1_0.credit_limit,
            c1_0.customer_type,
            c1_0.district,
            c1_0.email,
            c1_0.fax,
            c1_0.identity_number,
            c1_0.is_active,
            c1_0.is_deleted,
            c1_0.mobile,
            c1_0.name,
            c1_0.notes,
            c1_0.payment_terms,
            c1_0.phone,
            c1_0.postal_code,
            c1_0.tax_number,
            c1_0.tax_office,
            c1_0.updated_at,
            c1_0.updated_by,
            c1_0.website 
        from
            customers c1_0 
        where
            c1_0.company_id=? 
            and c1_0.is_deleted=false 
        order by
            c1_0.name 
        offset
            ? rows 
        fetch
            first ? rows only
2025-10-25 17:26:28 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-10-25 17:26:28 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{message=could not initialize proxy [com.muhasebe.entity.Company#2] - no Session}]
2025-10-25 17:26:28 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 400 BAD_REQUEST
2025-10-25 17:26:38 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/companies/2/customers?page=0&size=10&sortBy=name&sortDir=asc
2025-10-25 17:26:38 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.company_id,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.email,
        u1_0.failed_login_attempts,
        u1_0.first_name,
        u1_0.is_active,
        u1_0.is_deleted,
        u1_0.is_email_verified,
        u1_0.last_login_at,
        u1_0.last_name,
        u1_0.locked_until,
        u1_0.password,
        u1_0.phone,
        u1_0.role,
        u1_0.updated_at,
        u1_0.updated_by,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-10-25 17:26:38 [http-nio-8080-exec-8] DEBUG c.m.security.JwtAuthenticationFilter - Set Authentication for user: adminuser2
2025-10-25 17:26:38 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/companies/2/customers?page=0&size=10&sortBy=name&sortDir=asc
2025-10-25 17:26:38 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/companies/2/customers?page=0&size=10&sortBy=name&sortDir=asc", parameters={masked}
2025-10-25 17:26:38 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.muhasebe.controller.CustomerController#getAllCustomers(Long, int, int, String, String)
2025-10-25 17:26:38 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.muhasebe.controller.CustomerController.getAllCustomers(java.lang.Long,int,int,java.lang.String,java.lang.String); target is of class [com.muhasebe.controller.CustomerController]
2025-10-25 17:26:38 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.muhasebe.controller.CustomerController.getAllCustomers(java.lang.Long,int,int,java.lang.String,java.lang.String); target is of class [com.muhasebe.controller.CustomerController]
2025-10-25 17:26:38 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    /* SELECT
        c 
    FROM
        Customer c 
    WHERE
        c.company.id = :companyId 
        AND c.isDeleted = false 
    order by
        c.name asc */ select
            c1_0.id,
            c1_0.address,
            c1_0.balance,
            c1_0.city,
            c1_0.company_id,
            c1_0.contact_person,
            c1_0.country,
            c1_0.created_at,
            c1_0.created_by,
            c1_0.credit_limit,
            c1_0.customer_type,
            c1_0.district,
            c1_0.email,
            c1_0.fax,
            c1_0.identity_number,
            c1_0.is_active,
            c1_0.is_deleted,
            c1_0.mobile,
            c1_0.name,
            c1_0.notes,
            c1_0.payment_terms,
            c1_0.phone,
            c1_0.postal_code,
            c1_0.tax_number,
            c1_0.tax_office,
            c1_0.updated_at,
            c1_0.updated_by,
            c1_0.website 
        from
            customers c1_0 
        where
            c1_0.company_id=? 
            and c1_0.is_deleted=false 
        order by
            c1_0.name 
        offset
            ? rows 
        fetch
            first ? rows only
2025-10-25 17:26:38 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-10-25 17:26:38 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{message=could not initialize proxy [com.muhasebe.entity.Company#2] - no Session}]
2025-10-25 17:26:38 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 400 BAD_REQUEST
2025-10-25 17:26:43 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/companies/1/customers?page=0&size=10&sortBy=name&sortDir=asc
2025-10-25 17:26:43 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.company_id,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.email,
        u1_0.failed_login_attempts,
        u1_0.first_name,
        u1_0.is_active,
        u1_0.is_deleted,
        u1_0.is_email_verified,
        u1_0.last_login_at,
        u1_0.last_name,
        u1_0.locked_until,
        u1_0.password,
        u1_0.phone,
        u1_0.role,
        u1_0.updated_at,
        u1_0.updated_by,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-10-25 17:26:43 [http-nio-8080-exec-10] DEBUG c.m.security.JwtAuthenticationFilter - Set Authentication for user: adminuser2
2025-10-25 17:26:43 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/companies/1/customers?page=0&size=10&sortBy=name&sortDir=asc
2025-10-25 17:26:43 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/companies/1/customers?page=0&size=10&sortBy=name&sortDir=asc", parameters={masked}
2025-10-25 17:26:43 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.muhasebe.controller.CustomerController#getAllCustomers(Long, int, int, String, String)
2025-10-25 17:26:43 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.muhasebe.controller.CustomerController.getAllCustomers(java.lang.Long,int,int,java.lang.String,java.lang.String); target is of class [com.muhasebe.controller.CustomerController]
2025-10-25 17:26:43 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.muhasebe.controller.CustomerController.getAllCustomers(java.lang.Long,int,int,java.lang.String,java.lang.String); target is of class [com.muhasebe.controller.CustomerController]
2025-10-25 17:26:43 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    /* SELECT
        c 
    FROM
        Customer c 
    WHERE
        c.company.id = :companyId 
        AND c.isDeleted = false 
    order by
        c.name asc */ select
            c1_0.id,
            c1_0.address,
            c1_0.balance,
            c1_0.city,
            c1_0.company_id,
            c1_0.contact_person,
            c1_0.country,
            c1_0.created_at,
            c1_0.created_by,
            c1_0.credit_limit,
            c1_0.customer_type,
            c1_0.district,
            c1_0.email,
            c1_0.fax,
            c1_0.identity_number,
            c1_0.is_active,
            c1_0.is_deleted,
            c1_0.mobile,
            c1_0.name,
            c1_0.notes,
            c1_0.payment_terms,
            c1_0.phone,
            c1_0.postal_code,
            c1_0.tax_number,
            c1_0.tax_office,
            c1_0.updated_at,
            c1_0.updated_by,
            c1_0.website 
        from
            customers c1_0 
        where
            c1_0.company_id=? 
            and c1_0.is_deleted=false 
        order by
            c1_0.name 
        offset
            ? rows 
        fetch
            first ? rows only
2025-10-25 17:26:43 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-10-25 17:26:43 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{message=could not initialize proxy [com.muhasebe.entity.Company#1] - no Session}]
2025-10-25 17:26:43 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 400 BAD_REQUEST
2025-10-25 17:27:12 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/companies/2/customers/2
2025-10-25 17:27:12 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.company_id,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.email,
        u1_0.failed_login_attempts,
        u1_0.first_name,
        u1_0.is_active,
        u1_0.is_deleted,
        u1_0.is_email_verified,
        u1_0.last_login_at,
        u1_0.last_name,
        u1_0.locked_until,
        u1_0.password,
        u1_0.phone,
        u1_0.role,
        u1_0.updated_at,
        u1_0.updated_by,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-10-25 17:27:12 [http-nio-8080-exec-3] DEBUG c.m.security.JwtAuthenticationFilter - Set Authentication for user: adminuser2
2025-10-25 17:27:12 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/companies/2/customers/2
2025-10-25 17:27:12 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/companies/2/customers/2", parameters={}
2025-10-25 17:27:12 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.muhasebe.controller.CustomerController#getCustomer(Long, Long)
2025-10-25 17:27:12 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.muhasebe.controller.CustomerController.getCustomer(java.lang.Long,java.lang.Long); target is of class [com.muhasebe.controller.CustomerController]
2025-10-25 17:27:12 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.muhasebe.controller.CustomerController.getCustomer(java.lang.Long,java.lang.Long); target is of class [com.muhasebe.controller.CustomerController]
2025-10-25 17:27:12 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.address,
        c1_0.balance,
        c1_0.city,
        c1_0.company_id,
        c1_0.contact_person,
        c1_0.country,
        c1_0.created_at,
        c1_0.created_by,
        c1_0.credit_limit,
        c1_0.customer_type,
        c1_0.district,
        c1_0.email,
        c1_0.fax,
        c1_0.identity_number,
        c1_0.is_active,
        c1_0.is_deleted,
        c1_0.mobile,
        c1_0.name,
        c1_0.notes,
        c1_0.payment_terms,
        c1_0.phone,
        c1_0.postal_code,
        c1_0.tax_number,
        c1_0.tax_office,
        c1_0.updated_at,
        c1_0.updated_by,
        c1_0.website 
    from
        customers c1_0 
    where
        c1_0.id=?
2025-10-25 17:27:12 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-10-25 17:27:12 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{message=could not initialize proxy [com.muhasebe.entity.Company#2] - no Session}]
2025-10-25 17:27:12 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-10-25 17:27:28 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/companies/2/customers/search?keyword=ABC&page=0&size=10
2025-10-25 17:27:28 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.company_id,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.email,
        u1_0.failed_login_attempts,
        u1_0.first_name,
        u1_0.is_active,
        u1_0.is_deleted,
        u1_0.is_email_verified,
        u1_0.last_login_at,
        u1_0.last_name,
        u1_0.locked_until,
        u1_0.password,
        u1_0.phone,
        u1_0.role,
        u1_0.updated_at,
        u1_0.updated_by,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-10-25 17:27:28 [http-nio-8080-exec-5] DEBUG c.m.security.JwtAuthenticationFilter - Set Authentication for user: adminuser2
2025-10-25 17:27:28 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/companies/2/customers/search?keyword=ABC&page=0&size=10
2025-10-25 17:27:28 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/companies/2/customers/search?keyword=ABC&page=0&size=10", parameters={masked}
2025-10-25 17:27:28 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.muhasebe.controller.CustomerController#searchCustomers(Long, String, int, int)
2025-10-25 17:27:28 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.muhasebe.controller.CustomerController.searchCustomers(java.lang.Long,java.lang.String,int,int); target is of class [com.muhasebe.controller.CustomerController]
2025-10-25 17:27:28 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.muhasebe.controller.CustomerController.searchCustomers(java.lang.Long,java.lang.String,int,int); target is of class [com.muhasebe.controller.CustomerController]
2025-10-25 17:27:28 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    /* SELECT
        c 
    FROM
        Customer c 
    WHERE
        c.company.id = :companyId 
        AND (
            LOWER(c.name) LIKE LOWER(CONCAT('%', :keyword, '%')) 
            OR LOWER(c.taxNumber) LIKE LOWER(CONCAT('%', :keyword, '%')) 
            OR LOWER(c.phone) LIKE LOWER(CONCAT('%', :keyword, '%')) 
            OR LOWER(c.email) LIKE LOWER(CONCAT('%', :keyword, '%'))
        ) 
        AND c.isDeleted = false 
    order by
        c.name asc */ select
            c1_0.id,
            c1_0.address,
            c1_0.balance,
            c1_0.city,
            c1_0.company_id,
            c1_0.contact_person,
            c1_0.country,
            c1_0.created_at,
            c1_0.created_by,
            c1_0.credit_limit,
            c1_0.customer_type,
            c1_0.district,
            c1_0.email,
            c1_0.fax,
            c1_0.identity_number,
            c1_0.is_active,
            c1_0.is_deleted,
            c1_0.mobile,
            c1_0.name,
            c1_0.notes,
            c1_0.payment_terms,
            c1_0.phone,
            c1_0.postal_code,
            c1_0.tax_number,
            c1_0.tax_office,
            c1_0.updated_at,
            c1_0.updated_by,
            c1_0.website 
        from
            customers c1_0 
        where
            c1_0.company_id=? 
            and (
                lower(c1_0.name) like lower(('%'||?||'%')) escape '' 
                or lower(c1_0.tax_number) like lower(('%'||?||'%')) escape '' 
                or lower(c1_0.phone) like lower(('%'||?||'%')) escape '' 
                or lower(c1_0.email) like lower(('%'||?||'%')) escape ''
            ) 
            and c1_0.is_deleted=false 
        order by
            c1_0.name 
        offset
            ? rows 
        fetch
            first ? rows only
2025-10-25 17:27:28 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-10-25 17:27:28 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{message=could not initialize proxy [com.muhasebe.entity.Company#2] - no Session}]
2025-10-25 17:27:28 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 400 BAD_REQUEST
2025-10-25 17:32:39 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-10-25 17:32:39 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-10-25 17:32:39 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-10-25 17:32:41 [restartedMain] INFO  com.muhasebe.MuhasebeApplication - Starting MuhasebeApplication using Java 17.0.16 with PID 12140 (C:\projects\muhasebe-app\target\classes started by pc in C:\projects\muhasebe-app)
2025-10-25 17:32:41 [restartedMain] DEBUG com.muhasebe.MuhasebeApplication - Running with Spring Boot v3.2.0, Spring v6.1.1
2025-10-25 17:32:41 [restartedMain] INFO  com.muhasebe.MuhasebeApplication - The following 1 profile is active: "dev"
2025-10-25 17:32:41 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-10-25 17:32:41 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-10-25 17:32:41 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-10-25 17:32:41 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 42 ms. Found 4 JPA repository interfaces.
2025-10-25 17:32:42 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-10-25 17:32:42 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-10-25 17:32:42 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.16]
2025-10-25 17:32:42 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-10-25 17:32:42 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1052 ms
2025-10-25 17:32:42 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-10-25 17:32:42 [restartedMain] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.3.1.Final
2025-10-25 17:32:42 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-10-25 17:32:42 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-10-25 17:32:42 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-10-25 17:32:42 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@4d04157c
2025-10-25 17:32:42 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-10-25 17:32:42 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-10-25 17:32:43 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-10-25 17:32:43 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-10-25 17:32:43 [restartedMain] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-10-25 17:32:44 [restartedMain] DEBUG c.m.security.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-10-25 17:32:44 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 25 mappings in 'requestMappingHandlerMapping'
2025-10-25 17:32:44 [restartedMain] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-10-25 17:32:44 [restartedMain] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@38d3004f, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@29300af, org.springframework.security.web.context.SecurityContextHolderFilter@63cb6d09, org.springframework.security.web.header.HeaderWriterFilter@109cc114, org.springframework.web.filter.CorsFilter@16f61d90, org.springframework.web.filter.CorsFilter@72f0e9cf, org.springframework.security.web.authentication.logout.LogoutFilter@41a8ab80, com.muhasebe.security.JwtAuthenticationFilter@6a036ca7, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3ff229f7, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@34a2a0bb, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@52014ea6, org.springframework.security.web.session.SessionManagementFilter@63fdcf65, org.springframework.security.web.access.ExceptionTranslationFilter@5bf0fb46, org.springframework.security.web.access.intercept.AuthorizationFilter@cd6d597]
2025-10-25 17:32:44 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-10-25 17:32:44 [restartedMain] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-10-25 17:32:44 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-10-25 17:32:44 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path ''
2025-10-25 17:32:44 [restartedMain] INFO  com.muhasebe.MuhasebeApplication - Started MuhasebeApplication in 3.818 seconds (process running for 4.112)
2025-10-25 17:32:52 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-10-25 17:32:52 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-10-25 17:32:52 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected StandardServletMultipartResolver
2025-10-25 17:32:52 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected AcceptHeaderLocaleResolver
2025-10-25 17:32:52 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected FixedThemeResolver
2025-10-25 17:32:52 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@461f4f1d
2025-10-25 17:32:52 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.support.SessionFlashMapManager@1e9bdff4
2025-10-25 17:32:52 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-10-25 17:32:52 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2025-10-25 17:32:52 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2025-10-25 17:32:52 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-25 17:32:52 [http-nio-8080-exec-1] WARN  o.s.w.s.h.HandlerMappingIntrospector - Cache miss for REQUEST dispatch to '/api/auth/login' (previous null). Performing MatchableHandlerMapping lookup. This is logged once only at WARN level, and every time at TRACE.
2025-10-25 17:32:52 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2025-10-25 17:32:52 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/auth/login", parameters={}
2025-10-25 17:32:52 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.muhasebe.controller.AuthController#login(LoginRequest)
2025-10-25 17:32:52 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [LoginRequest(usernameOrEmail=adminuser2, password=Admin123!)]
2025-10-25 17:32:53 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    /* SELECT
        u 
    FROM
        User u 
    WHERE
        u.username = :identifier 
        OR u.email = :identifier */ select
            u1_0.id,
            u1_0.company_id,
            u1_0.created_at,
            u1_0.created_by,
            u1_0.email,
            u1_0.failed_login_attempts,
            u1_0.first_name,
            u1_0.is_active,
            u1_0.is_deleted,
            u1_0.is_email_verified,
            u1_0.last_login_at,
            u1_0.last_name,
            u1_0.locked_until,
            u1_0.password,
            u1_0.phone,
            u1_0.role,
            u1_0.updated_at,
            u1_0.updated_by,
            u1_0.username 
        from
            users u1_0 
        where
            u1_0.username=? 
            or u1_0.email=?
2025-10-25 17:32:53 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.company_id,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.email,
        u1_0.failed_login_attempts,
        u1_0.first_name,
        u1_0.is_active,
        u1_0.is_deleted,
        u1_0.is_email_verified,
        u1_0.last_login_at,
        u1_0.last_name,
        u1_0.locked_until,
        u1_0.password,
        u1_0.phone,
        u1_0.role,
        u1_0.updated_at,
        u1_0.updated_by,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-10-25 17:32:53 [http-nio-8080-exec-1] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2025-10-25 17:32:53 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.company_type,
        c1_0.country,
        c1_0.created_at,
        c1_0.created_by,
        c1_0.district,
        c1_0.e_archive_enabled,
        c1_0.e_invoice_enabled,
        c1_0.email,
        c1_0.establishment_date,
        c1_0.fax,
        c1_0.gib_password,
        c1_0.gib_username,
        c1_0.is_active,
        c1_0.is_deleted,
        c1_0.logo_url,
        c1_0.mersis_no,
        c1_0.name,
        c1_0.phone,
        c1_0.postal_code,
        c1_0.tax_number,
        c1_0.tax_office,
        c1_0.trade_name,
        c1_0.updated_at,
        c1_0.updated_by,
        c1_0.website 
    from
        companies c1_0 
    where
        c1_0.id=?
2025-10-25 17:32:53 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    /* update
        for com.muhasebe.entity.User */update users 
    set
        company_id=?,
        email=?,
        failed_login_attempts=?,
        first_name=?,
        is_active=?,
        is_deleted=?,
        is_email_verified=?,
        last_login_at=?,
        last_name=?,
        locked_until=?,
        password=?,
        phone=?,
        role=?,
        updated_at=?,
        updated_by=?,
        username=? 
    where
        id=?
2025-10-25 17:32:53 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-10-25 17:32:53 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AuthResponse(accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbnVzZXIyIiwiaWF0IjoxNzYxNDAyNzczLCJleH (truncated)...]
2025-10-25 17:32:53 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-10-25 17:32:59 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/companies/2/customers?page=0&size=10&sortBy=name&sortDir=asc
2025-10-25 17:32:59 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.company_id,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.email,
        u1_0.failed_login_attempts,
        u1_0.first_name,
        u1_0.is_active,
        u1_0.is_deleted,
        u1_0.is_email_verified,
        u1_0.last_login_at,
        u1_0.last_name,
        u1_0.locked_until,
        u1_0.password,
        u1_0.phone,
        u1_0.role,
        u1_0.updated_at,
        u1_0.updated_by,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-10-25 17:32:59 [http-nio-8080-exec-3] DEBUG c.m.security.JwtAuthenticationFilter - Set Authentication for user: adminuser2
2025-10-25 17:32:59 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/companies/2/customers?page=0&size=10&sortBy=name&sortDir=asc
2025-10-25 17:32:59 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/companies/2/customers?page=0&size=10&sortBy=name&sortDir=asc", parameters={masked}
2025-10-25 17:32:59 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.muhasebe.controller.CustomerController#getAllCustomers(Long, int, int, String, String)
2025-10-25 17:32:59 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.muhasebe.controller.CustomerController.getAllCustomers(java.lang.Long,int,int,java.lang.String,java.lang.String); target is of class [com.muhasebe.controller.CustomerController]
2025-10-25 17:32:59 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.muhasebe.controller.CustomerController.getAllCustomers(java.lang.Long,int,int,java.lang.String,java.lang.String); target is of class [com.muhasebe.controller.CustomerController]
2025-10-25 17:32:59 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    /* SELECT
        c 
    FROM
        Customer c 
    LEFT JOIN
        
    FETCH
        c.company 
    WHERE
        c.company.id = :companyId 
        AND c.isDeleted = false 
    order by
        c.name asc */ select
            c1_0.id,
            c1_0.address,
            c1_0.balance,
            c1_0.city,
            c1_0.company_id,
            c2_0.id,
            c2_0.address,
            c2_0.city,
            c2_0.company_type,
            c2_0.country,
            c2_0.created_at,
            c2_0.created_by,
            c2_0.district,
            c2_0.e_archive_enabled,
            c2_0.e_invoice_enabled,
            c2_0.email,
            c2_0.establishment_date,
            c2_0.fax,
            c2_0.gib_password,
            c2_0.gib_username,
            c2_0.is_active,
            c2_0.is_deleted,
            c2_0.logo_url,
            c2_0.mersis_no,
            c2_0.name,
            c2_0.phone,
            c2_0.postal_code,
            c2_0.tax_number,
            c2_0.tax_office,
            c2_0.trade_name,
            c2_0.updated_at,
            c2_0.updated_by,
            c2_0.website,
            c1_0.contact_person,
            c1_0.country,
            c1_0.created_at,
            c1_0.created_by,
            c1_0.credit_limit,
            c1_0.customer_type,
            c1_0.district,
            c1_0.email,
            c1_0.fax,
            c1_0.identity_number,
            c1_0.is_active,
            c1_0.is_deleted,
            c1_0.mobile,
            c1_0.name,
            c1_0.notes,
            c1_0.payment_terms,
            c1_0.phone,
            c1_0.postal_code,
            c1_0.tax_number,
            c1_0.tax_office,
            c1_0.updated_at,
            c1_0.updated_by,
            c1_0.website 
        from
            customers c1_0 
        left join
            companies c2_0 
                on c2_0.id=c1_0.company_id 
        where
            c1_0.company_id=? 
            and c1_0.is_deleted=false 
        order by
            c1_0.name 
        offset
            ? rows 
        fetch
            first ? rows only
2025-10-25 17:32:59 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-10-25 17:32:59 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{totalItems=1, totalPages=1, customers=[CustomerResponse(id=2, name=ABC Ticaret Ltd. Şti., contactPe (truncated)...]
2025-10-25 17:32:59 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-10-25 17:33:03 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/companies/2/customers/2
2025-10-25 17:33:03 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.company_id,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.email,
        u1_0.failed_login_attempts,
        u1_0.first_name,
        u1_0.is_active,
        u1_0.is_deleted,
        u1_0.is_email_verified,
        u1_0.last_login_at,
        u1_0.last_name,
        u1_0.locked_until,
        u1_0.password,
        u1_0.phone,
        u1_0.role,
        u1_0.updated_at,
        u1_0.updated_by,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-10-25 17:33:03 [http-nio-8080-exec-4] DEBUG c.m.security.JwtAuthenticationFilter - Set Authentication for user: adminuser2
2025-10-25 17:33:03 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/companies/2/customers/2
2025-10-25 17:33:03 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/companies/2/customers/2", parameters={}
2025-10-25 17:33:03 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.muhasebe.controller.CustomerController#getCustomer(Long, Long)
2025-10-25 17:33:03 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.muhasebe.controller.CustomerController.getCustomer(java.lang.Long,java.lang.Long); target is of class [com.muhasebe.controller.CustomerController]
2025-10-25 17:33:03 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.muhasebe.controller.CustomerController.getCustomer(java.lang.Long,java.lang.Long); target is of class [com.muhasebe.controller.CustomerController]
2025-10-25 17:33:03 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.address,
        c1_0.balance,
        c1_0.city,
        c1_0.company_id,
        c1_0.contact_person,
        c1_0.country,
        c1_0.created_at,
        c1_0.created_by,
        c1_0.credit_limit,
        c1_0.customer_type,
        c1_0.district,
        c1_0.email,
        c1_0.fax,
        c1_0.identity_number,
        c1_0.is_active,
        c1_0.is_deleted,
        c1_0.mobile,
        c1_0.name,
        c1_0.notes,
        c1_0.payment_terms,
        c1_0.phone,
        c1_0.postal_code,
        c1_0.tax_number,
        c1_0.tax_office,
        c1_0.updated_at,
        c1_0.updated_by,
        c1_0.website 
    from
        customers c1_0 
    where
        c1_0.id=?
2025-10-25 17:33:03 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.company_type,
        c1_0.country,
        c1_0.created_at,
        c1_0.created_by,
        c1_0.district,
        c1_0.e_archive_enabled,
        c1_0.e_invoice_enabled,
        c1_0.email,
        c1_0.establishment_date,
        c1_0.fax,
        c1_0.gib_password,
        c1_0.gib_username,
        c1_0.is_active,
        c1_0.is_deleted,
        c1_0.logo_url,
        c1_0.mersis_no,
        c1_0.name,
        c1_0.phone,
        c1_0.postal_code,
        c1_0.tax_number,
        c1_0.tax_office,
        c1_0.trade_name,
        c1_0.updated_at,
        c1_0.updated_by,
        c1_0.website 
    from
        companies c1_0 
    where
        c1_0.id=?
2025-10-25 17:33:03 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-10-25 17:33:03 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [CustomerResponse(id=2, name=ABC Ticaret Ltd. Şti., contactPerson=Ahmet Yılmaz, taxNumber=1234567891, (truncated)...]
2025-10-25 17:33:03 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-10-25 17:33:13 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing PUT /api/companies/2/customers/2
2025-10-25 17:33:13 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.company_id,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.email,
        u1_0.failed_login_attempts,
        u1_0.first_name,
        u1_0.is_active,
        u1_0.is_deleted,
        u1_0.is_email_verified,
        u1_0.last_login_at,
        u1_0.last_name,
        u1_0.locked_until,
        u1_0.password,
        u1_0.phone,
        u1_0.role,
        u1_0.updated_at,
        u1_0.updated_by,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-10-25 17:33:13 [http-nio-8080-exec-5] DEBUG c.m.security.JwtAuthenticationFilter - Set Authentication for user: adminuser2
2025-10-25 17:33:13 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured PUT /api/companies/2/customers/2
2025-10-25 17:33:13 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - PUT "/api/companies/2/customers/2", parameters={}
2025-10-25 17:33:13 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.muhasebe.controller.CustomerController#updateCustomer(Long, Long, CustomerRequest)
2025-10-25 17:33:13 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CustomerRequest(name=ABC Ticaret Ltd. Şti. (Güncellendi), contactPerson=Ahmet Yılmaz, taxNumber=1234 (truncated)...]
2025-10-25 17:33:13 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.muhasebe.controller.CustomerController.updateCustomer(java.lang.Long,java.lang.Long,com.muhasebe.dto.request.CustomerRequest); target is of class [com.muhasebe.controller.CustomerController]
2025-10-25 17:33:13 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.muhasebe.controller.CustomerController.updateCustomer(java.lang.Long,java.lang.Long,com.muhasebe.dto.request.CustomerRequest); target is of class [com.muhasebe.controller.CustomerController]
2025-10-25 17:33:13 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.address,
        c1_0.balance,
        c1_0.city,
        c1_0.company_id,
        c1_0.contact_person,
        c1_0.country,
        c1_0.created_at,
        c1_0.created_by,
        c1_0.credit_limit,
        c1_0.customer_type,
        c1_0.district,
        c1_0.email,
        c1_0.fax,
        c1_0.identity_number,
        c1_0.is_active,
        c1_0.is_deleted,
        c1_0.mobile,
        c1_0.name,
        c1_0.notes,
        c1_0.payment_terms,
        c1_0.phone,
        c1_0.postal_code,
        c1_0.tax_number,
        c1_0.tax_office,
        c1_0.updated_at,
        c1_0.updated_by,
        c1_0.website 
    from
        customers c1_0 
    where
        c1_0.id=?
2025-10-25 17:33:13 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.company_type,
        c1_0.country,
        c1_0.created_at,
        c1_0.created_by,
        c1_0.district,
        c1_0.e_archive_enabled,
        c1_0.e_invoice_enabled,
        c1_0.email,
        c1_0.establishment_date,
        c1_0.fax,
        c1_0.gib_password,
        c1_0.gib_username,
        c1_0.is_active,
        c1_0.is_deleted,
        c1_0.logo_url,
        c1_0.mersis_no,
        c1_0.name,
        c1_0.phone,
        c1_0.postal_code,
        c1_0.tax_number,
        c1_0.tax_office,
        c1_0.trade_name,
        c1_0.updated_at,
        c1_0.updated_by,
        c1_0.website 
    from
        companies c1_0 
    where
        c1_0.id=?
2025-10-25 17:33:13 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    /* update
        for com.muhasebe.entity.Customer */update customers 
    set
        address=?,
        balance=?,
        city=?,
        company_id=?,
        contact_person=?,
        country=?,
        credit_limit=?,
        customer_type=?,
        district=?,
        email=?,
        fax=?,
        identity_number=?,
        is_active=?,
        is_deleted=?,
        mobile=?,
        name=?,
        notes=?,
        payment_terms=?,
        phone=?,
        postal_code=?,
        tax_number=?,
        tax_office=?,
        updated_at=?,
        updated_by=?,
        website=? 
    where
        id=?
2025-10-25 17:33:13 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-10-25 17:33:13 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [CustomerResponse(id=2, name=ABC Ticaret Ltd. Şti. (Güncellendi), contactPerson=Ahmet Yılmaz, taxNumb (truncated)...]
2025-10-25 17:33:13 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-10-25 17:35:05 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /swagger-ui/index.html
2025-10-25 17:35:05 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-25 17:35:05 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /swagger-ui/index.html
2025-10-25 17:35:05 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/swagger-ui/index.html", parameters={}
2025-10-25 17:35:05 [http-nio-8080-exec-7] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
2025-10-25 17:35:05 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-10-25 17:35:05 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /swagger-ui/swagger-ui.css
2025-10-25 17:35:05 [http-nio-8080-exec-8] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-25 17:35:05 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /swagger-ui/swagger-ui.css
2025-10-25 17:35:05 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/swagger-ui/swagger-ui.css", parameters={}
2025-10-25 17:35:05 [http-nio-8080-exec-8] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
2025-10-25 17:35:05 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /swagger-ui/index.css
2025-10-25 17:35:05 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /swagger-ui/swagger-ui-bundle.js
2025-10-25 17:35:05 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /swagger-ui/swagger-ui-standalone-preset.js
2025-10-25 17:35:05 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /swagger-ui/swagger-initializer.js
2025-10-25 17:35:05 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-25 17:35:05 [http-nio-8080-exec-10] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-25 17:35:05 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-25 17:35:05 [http-nio-8080-exec-9] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-25 17:35:05 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /swagger-ui/swagger-ui-standalone-preset.js
2025-10-25 17:35:05 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/swagger-ui/swagger-ui-standalone-preset.js", parameters={}
2025-10-25 17:35:05 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /swagger-ui/swagger-initializer.js
2025-10-25 17:35:05 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /swagger-ui/index.css
2025-10-25 17:35:05 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/swagger-ui/swagger-initializer.js", parameters={}
2025-10-25 17:35:05 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/swagger-ui/index.css", parameters={}
2025-10-25 17:35:05 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /swagger-ui/swagger-ui-bundle.js
2025-10-25 17:35:05 [http-nio-8080-exec-2] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
2025-10-25 17:35:05 [http-nio-8080-exec-1] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
2025-10-25 17:35:05 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/swagger-ui/swagger-ui-bundle.js", parameters={}
2025-10-25 17:35:05 [http-nio-8080-exec-9] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
2025-10-25 17:35:05 [http-nio-8080-exec-10] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
2025-10-25 17:35:05 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-10-25 17:35:05 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-10-25 17:35:05 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-10-25 17:35:05 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-10-25 17:35:05 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-10-25 17:35:05 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /v3/api-docs/swagger-config
2025-10-25 17:35:05 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-25 17:35:05 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /v3/api-docs/swagger-config
2025-10-25 17:35:05 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/v3/api-docs/swagger-config", parameters={}
2025-10-25 17:35:05 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springdoc.webmvc.ui.SwaggerConfigResource#openapiJson(HttpServletRequest)
2025-10-25 17:35:05 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /swagger-ui/favicon-32x32.png
2025-10-25 17:35:05 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-25 17:35:05 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /swagger-ui/favicon-32x32.png
2025-10-25 17:35:05 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/swagger-ui/favicon-32x32.png", parameters={}
2025-10-25 17:35:05 [http-nio-8080-exec-4] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
2025-10-25 17:35:05 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json]
2025-10-25 17:35:05 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [{configUrl=/v3/api-docs/swagger-config, oauth2RedirectUrl=http://localhost:8080/swagger-ui/oauth2-re (truncated)...]
2025-10-25 17:35:05 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-10-25 17:35:05 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-10-25 17:35:05 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /v3/api-docs
2025-10-25 17:35:05 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-25 17:35:05 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /v3/api-docs
2025-10-25 17:35:05 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/v3/api-docs", parameters={}
2025-10-25 17:35:05 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springdoc.webmvc.api.OpenApiWebMvcResource#openapiJson(HttpServletRequest, String, Locale)
2025-10-25 17:35:05 [http-nio-8080-exec-5] INFO  o.s.api.AbstractOpenApiResource - Init duration for springdoc-openapi is: 182 ms
2025-10-25 17:35:05 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [application/json, */*] and supported [application/json]
2025-10-25 17:35:05 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [{123, 34, 111, 112, 101, 110, 97, 112, 105, 34, 58, 34, 51, 46, 48, 46, 49, 34, 44, 34, 105, 110, 10 (truncated)...]
2025-10-25 17:35:05 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-10-25 17:36:30 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-10-25 17:36:30 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-10-25 17:36:30 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
